<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Ejercicios interactivos de Biof√≠sica y Bioqu√≠mica - Facultad de Medicina y Ciencias Biom√©dicas UACH">
    <title>Biof√≠sica Interactiva | FMyCB UACH</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        
        /* Estilos Base Institucionales */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #8b0000;
            --secondary: #5a0000;
            --accent: #d4af37;
            --accent-hover: #b8962d;
            --dark: #1a202c;
            --gray: #4a5568;
            --light-gray: #e2e8f0;
            --success: #10b981;
            --white: #ffffff;
            --overlay: rgba(0, 0, 0, 0.8);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: var(--white);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            text-align: center;
            border-top: 8px solid var(--primary);
        }

        h1 {
            font-size: 2.2em;
            color: var(--dark);
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.1em;
            color: var(--gray);
            font-weight: 300;
            margin-bottom: 20px;
        }

        .institution {
            padding: 10px 20px;
            background: var(--primary);
            color: white;
            border-radius: 30px;
            display: inline-block;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        /* =========================================
           NUEVO BANNER DE AVISO (CSS PURO)
           ========================================= */
        .alerta-parcial {
            color: white;
            text-align: center;
            padding: 12px 16px;
            font-weight: bold;
            font-size: 1rem;
            position: sticky;
            top: 0;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            animation: alertaBlink 1.5s infinite alternate ease-in-out;
            letter-spacing: 0.025em;
        }

        @media (min-width: 768px) {
            .alerta-parcial { font-size: 1.125rem; }
        }

        .alerta-icon {
            font-size: 1.5rem;
            display: inline-block;
            animation: bounceIcon 1s infinite;
        }

        .alerta-link {
            color: #fde047; /* Amarillo */
            text-decoration: underline;
            text-decoration-color: rgba(250, 204, 21, 0.5);
            text-underline-offset: 4px;
            transition: color 0.2s ease;
        }

        .alerta-link:hover {
            color: #fef08a; /* Amarillo claro */
        }

        @keyframes alertaBlink {
            0% { background-color: rgba(239, 68, 68, 0.95); box-shadow: 0 4px 15px rgba(239, 68, 68, 0.6); }
            100% { background-color: rgba(153, 27, 27, 0.95); box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); }
        }

        @keyframes bounceIcon {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
            50% { transform: none; animation-timing-function: cubic-bezier(0,0,0.2,1); }
        }
        
        /* Banner de informaci√≥n */
        .info-banner {
            background: #fffbeb;
            border-left: 5px solid var(--accent);
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .info-content {
            flex: 1;
            min-width: 300px;
        }

        .btn-text {
            color: var(--primary);
            text-decoration: underline;
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        /* Module Grid */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .module-card {
            background: var(--white);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--light-gray);
        }

        .module-card:hover { transform: translateY(-5px); border-color: var(--primary); }

        .module-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }

        .module-number {
            background: var(--primary); color: white; width: 45px; height: 45px;
            border-radius: 10px; display: flex; align-items: center; justify-content: center;
            font-weight: 700; flex-shrink: 0;
        }

        .module-title { font-size: 1.2em; font-weight: 700; color: var(--primary); }

        .module-lessons { list-style: none; margin-bottom: 20px; flex-grow: 1; }
        .module-lessons li { padding: 10px 0; border-bottom: 1px solid var(--light-gray); font-size: 0.9em; display: flex; align-items: center; }
        .module-lessons li::before { content: "‚Ä¢"; color: var(--primary); font-weight: bold; margin-right: 8px; }
        .module-lessons a { color: var(--dark); text-decoration: none; font-weight: 500; transition: 0.2s; }

        .date-badges { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px; }
        .status-badge { font-size: 0.7em; padding: 4px 10px; border-radius: 12px; display: inline-block; font-weight: 500; }
        .available { background: #d1fae5; color: #065f46; }
        .exam-badge { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }

        /* Botones */
        .actions-container { display: flex; flex-direction: column; gap: 10px; margin-top: 10px; }
        .btn {
            display: flex; align-items: center; justify-content: center; gap: 8px;
            width: 100%; padding: 12px; border-radius: 8px; text-decoration: none;
            font-weight: 600; font-size: 0.9em; transition: all 0.3s ease; cursor: pointer; border: none;
        }
        .btn-primary { background: var(--primary); color: var(--white); }
        .btn-outline-accent { background: transparent; color: var(--accent); border: 2px solid var(--accent); }

        /* Modales */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--overlay); display: none; justify-content: center; align-items: center;
            z-index: 1000; padding: 20px; backdrop-filter: blur(5px);
        }
        .modal-content {
            background: white; width: 100%; max-width: 850px; max-height: 85vh;
            border-radius: 20px; overflow-y: auto; position: relative; padding: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3); animation: modalIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1);
        }
        @keyframes modalIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .close-modal {
            position: absolute; top: 20px; right: 20px; background: var(--light-gray);
            border: none; width: 35px; height: 35px; border-radius: 50%;
            cursor: pointer; font-size: 1.2em; display: flex; align-items: center; justify-content: center; z-index: 10;
        }
        .topic-item { background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid var(--accent); }
        .subpoints-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px; margin-top: 10px; }
        .subpoint { font-size: 0.85em; color: var(--gray); display: flex; align-items: center; gap: 8px; }
        .subpoint::before { content: ""; width: 6px; height: 6px; background: var(--accent); border-radius: 50%; flex-shrink: 0; }

        /* Timeline Section */
        .timeline-section { background: var(--white); border-radius: 20px; padding: 40px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05); margin-bottom: 40px; }
        .timeline-header { text-align: center; margin-bottom: 30px; }
        .timeline-header h2 { color: var(--primary); font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .timeline-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .timeline-month { border: 1px solid var(--light-gray); border-radius: 15px; padding: 15px; background: #fcfcfc; }
        .month-name { font-weight: 700; color: var(--secondary); text-transform: uppercase; font-size: 0.85em; margin-bottom: 15px; display: block; border-bottom: 2px solid var(--light-gray); padding-bottom: 5px; }
        .week-item { display: flex; gap: 12px; margin-bottom: 12px; }
        .week-number { font-size: 0.65em; font-weight: 700; color: var(--white); background: var(--gray); width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 3px; }
        .week-date { font-size: 0.7em; color: var(--gray); display: block; margin-bottom: 2px; }
        .week-content { font-size: 0.85em; color: var(--dark); }
        .week-content strong { display: block; color: var(--primary); }
        .week-item.exam { background: #fff5f5; border: 1px solid #fed7d7; padding: 10px; border-radius: 8px; }
        .week-item.holiday { background: #f0fdf4; border: 1px solid #dcfce7; padding: 10px; border-radius: 8px; }

        /* Reglamento UI */
        .reglamento-banner { background: var(--primary); color: white; padding: 12px; text-align: center; border-radius: 10px; margin-bottom: 20px; display: none; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(139, 0, 0, 0.4); } 100% { box-shadow: 0 0 0 10px rgba(139, 0, 0, 0); } }
        .rules-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 15px; margin-top: 20px; }
        .rule-card { background: #f8fafc; padding: 18px; border-radius: 12px; border-top: 4px solid var(--primary); }
        .rule-card h4 { color: var(--primary); margin-bottom: 10px; font-size: 1em; display: flex; align-items: center; gap: 10px; }
        .rule-card p { font-size: 0.8em; color: var(--gray); line-height: 1.5; }
        .conformidad-panel { background: #fffbeb; padding: 25px; border-radius: 15px; margin-top: 30px; border: 2px dashed var(--accent); text-align: center; }
        .student-input { width: 100%; max-width: 400px; padding: 12px; border-radius: 8px; border: 1px solid var(--light-gray); margin-bottom: 15px; font-family: inherit; font-size: 1em; outline: none; }
        
        /* Panel Docente */
        .teacher-view { margin-top: 40px; background: var(--white); border-radius: 20px; padding: 30px; border: 1px solid var(--light-gray); }
        .teacher-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9em; }
        .teacher-table th, .teacher-table td { text-align: left; padding: 12px; border-bottom: 1px solid var(--light-gray); }

        .icon { width: 18px; height: 18px; fill: currentColor; }
        footer { text-align: center; padding: 40px; color: var(--gray); font-size: 0.9em; }
    </style>
</head>

<body>
        <!-- BANNER DE AVISO CON CSS PURO -->
        <div class="alerta-parcial">
            <span class="alerta-icon">üö®</span>
            <span>PR√ìXIMO EXAMEN 25 de FEBRERO - <a href="guia_primer_parcial.html" class="alerta-link">consulta la gu√≠a aqu√≠</a></span>
            <span class="alerta-icon">üö®</span>
        </div>

    <!-- Modal del Reglamento -->
    <div id="reglamentoModal" class="modal-overlay">
        <div class="modal-content" style="max-width: 900px;">
            <button class="close-modal" onclick="closeAllModals()">√ó</button>
            <div style="text-align: center; margin-bottom: 30px;">
                <div class="institution">FMyCB UACH | Temas Selectos de Biof√≠sica y Bioqu√≠mica</div>
                <h2 style="margin-top: 15px; color: var(--primary);">Reglamento General del Curso</h2>
                <p style="font-size: 0.9em; color: var(--gray);">Favor de leer cuidadosamente los puntos cr√≠ticos antes de firmar.</p>
            </div>

            <div class="rules-grid">
                <div class="rule-card">
                    <h4>Asistencia (80%)</h4>
                    <p>M√≠nimo del 80% para derecho a examen. La clase inicia al entrar el docente; no se permite el ingreso posterior. Justificantes en m√°ximo 3 d√≠as h√°biles.</p>
                </div>
                <div class="rule-card">
                    <h4>Electr√≥nicos</h4>
                    <p>Prohibido el uso de celulares, tablets o smartwatches. Su uso no autorizado causar√° <strong>2 faltas inmediatas</strong> y posible baja de examen.</p>
                </div>
                <div class="rule-card">
                    <h4>Responsabilidad</h4>
                    <p>Debes venir preparado para la sesi√≥n. Si no presentas la tarea satisfactoriamente, el docente puede pedirte que te retires con falta registrada.</p>
                </div>
                <div class="rule-card" style="border-top-color: var(--accent);">
                    <h4>Ponderaci√≥n</h4>
                    <p>Calificaci√≥n 100% Ex√°menes Virtuales (30% + 30% + 40%). Requiere 80% de actividades acad√©micas entregadas para tener derecho a examen.</p>
                </div>
                <div class="rule-card" style="border-top-color: var(--accent);">
                    <h4>Perfil Plataforma</h4>
                    <p>Obligatorio completar perfil en capacitacion.uach.mx con MAY√öSCULAS y foto digital de frente (sin lentes oscuros ni accesorios).</p>
                </div>
                <div class="rule-card" style="border-top-color: var(--accent);">
                    <h4>√âtica en Examen</h4>
                    <p>Cualquier uso de acordeones, memorias o celulares en examen anular√° el mismo con calificaci√≥n de <strong>0.0</strong> autom√°tica.</p>
                </div>
            </div>

            <div class="conformidad-panel">
                <p style="margin-bottom: 15px; font-weight: 600;">He le√≠do y acepto cumplir los lineamientos del semestre selectivo 2025:</p>
                <input type="text" id="studentName" class="student-input" placeholder="Nombre Apellido Apellido" required>
                <div style="display: flex; justify-content: center; gap: 15px;">
                    <button id="btnConfirmReg" onclick="aceptarReglamento()" class="btn btn-primary" style="width: auto; padding: 10px 30px;">
                        Confirmar y Enviar Firma
                    </button>
                    <a href="material/LINEAMIENTOS_TEMAS_SELECTOS.pdf" target="_blank" class="btn btn-outline-accent" style="width: auto;">
                        Ver PDF Oficial
                    </a>
                </div>
                <p id="regError" style="color: red; font-size: 0.8em; margin-top: 10px; display: none;">Por favor ingresa tu nombre completo.</p>
            </div>
        </div>
    </div>

    <!-- Modal Programa Anal√≠tico -->
    <div id="syllabusModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeAllModals()">√ó</button>
            <div class="institution" style="margin-bottom: 15px;">Ficha T√©cnica del Curso</div>
            <h2>Fundamentos de Biof√≠sica y Bioqu√≠mica</h2>
            <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin: 20px 0; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <div><small>Semestre:</small><br><strong>Selectivo</strong></div>
                <div><small>√Årea:</small><br><strong>B√°sica</strong></div>
                <div><small>Cr√©ditos:</small><br><strong>5</strong></div>
                <div><small>Horas Totales:</small><br><strong>80 h Semestre</strong></div>
            </div>
            <h3>Competencias</h3>
            <p style="font-size: 0.9em; margin-top:10px;">‚Ä¢ Excelencia y Desarrollo Humano (B1EDH)<br>‚Ä¢ Transformaci√≥n Digital (B4TD)<br>‚Ä¢ Investigaci√≥n en Salud (P3IS)</p>
            <h3 style="margin-top:20px;">Esquema de Evaluaci√≥n</h3>
            <p style="font-size: 0.9em; margin-top:10px;">‚Ä¢ 1¬∞ Parcial: 25 Febrero (30%)<br>‚Ä¢ 2¬∞ Parcial: 15 Abril (30%)<br>‚Ä¢ Examen Final: 20 Mayo (40%)</p>
        </div>
    </div>
    
    <!-- Modal Detallado de Bloque -->
    <div id="blockDetailModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeAllModals()">√ó</button>
            <div id="blockModalHeader">
                <span id="blockBadge" class="institution">Bloque X</span>
                <h2 id="blockTitle" style="margin-top: 10px;">T√≠tulo del Bloque</h2>
            </div>
            <div id="topicsContainer" class="topic-list" style="margin-top: 25px;"></div>
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--light-gray);">
                <button id="downloadBtn" class="btn btn-primary">Descargar Check-list de Estudio (.txt)</button>
            </div>
        </div>
    </div>

    <div class="container">
        
        <!-- Banner de Alerta de Reglamento MOVIDO ABAJO DEL BANNER DE EXAMEN PARA QUE NO ESTORBE -->
        <div id="reglamentoAlert" class="reglamento-banner">
            <p>‚ö†Ô∏è <strong>Atenci√≥n Estudiante:</strong> Tienes pendiente la firma de los lineamientos del curso. 
            <span onclick="openReglamento()" style="text-decoration: underline; cursor: pointer; font-weight: 700; margin-left: 10px;">Firmar conformidad ahora</span></p>
        </div>

        <header>
            <h1>Fundamentos de Biof√≠sica y Bioqu√≠mica</h1>
            <p class="subtitle">Recursos Interactivos y Laboratorio Virtual</p>
            <div class="institution">UACH | Facultad de Medicina y Ciencias Biom√©dicas</div>
        </header>

        <div class="info-banner">
            <div class="info-content">
                <strong>üî¨ Metodolog√≠a Glocal:</strong> Aprendizaje centrado en el alumno, simuladores y casos cl√≠nicos.
                <div style="margin-top: 10px; display: flex; gap: 15px; flex-wrap: wrap;">
                    <span class="btn-text" onclick="openSyllabus()">Ver Ficha T√©cnica</span>
                    <span class="btn-text" onclick="openReglamento()">Lineamientos del Curso</span>
                    <span id="regStatusBadge" class="status-badge" style="background: #fee2e2; color: #991b1b;">Lectura Pendiente</span>
                </div>
            </div>
            <a href="material/PROGRAMA_DESARROLLADO.pdf" target="_blank" class="btn btn-outline-accent" style="width: auto; padding: 10px 20px;">
                PDF Programa
            </a>
        </div>
        
        <div class="modules-grid">
            <!-- Bloque 1 -->
            <div class="module-card">
                <div class="module-header">
                    <div class="module-number">1</div>
                    <div>
                        <div class="module-title">Biof√≠sica y Biomol√©culas</div>
                        <div class="date-badges">
                            <span class="status-badge available">26 Ene - 20 Feb</span>
                            <span class="status-badge exam-badge">Parcial: 25 Feb</span>
                        </div>
                    </div>
                </div>
                <ul class="module-lessons">
                    <li><a href="objeto1.html">Estructura de la materia</a></li>
                    <li><a href="objeto2.html">Soluciones y Mezclas</a></li>
                    <li><a href="objeto3.html">Bioqu√≠mica de L√≠pidos</a></li>
                </ul>
                <div class="actions-container">
                    <button onclick="showBlockDetails(1)" class="btn btn-primary">Ver Temario Bloque 1</button>
                    <a href="material/presentaciones_bloque1.zip" class="btn btn-outline-accent">Presentaciones (.zip)</a>
                </div>
            </div>

            <!-- Bloque 2 -->
            <div class="module-card">
                <div class="module-header">
                    <div class="module-number">2</div>
                    <div>
                        <div class="module-title">Macromol√©culas y Gases</div>
                        <div class="date-badges">
                            <span class="status-badge available">2 Mar - 10 Abr</span>
                            <span class="status-badge exam-badge">Parcial: 15 Abr</span>
                        </div>
                    </div>
                </div>
                <ul class="module-lessons">
                    <li><a href="adn_arn.html">√Åcidos Nucleicos</a></li>
                    <li><a href="proteinas_pymol.html">Prote√≠nas (Estructura)</a></li>
                    <li><a href="leyes_gases.html">Biof√≠sica de Gases</a></li>
                </ul>
                <div class="actions-container">
                    <button onclick="showBlockDetails(2)" class="btn btn-primary">Ver Temario Bloque 2</button>
                    <a href="material/presentaciones_bloque2.zip" class="btn btn-outline-accent">Presentaciones (.zip)</a>
                </div>
            </div>

            <!-- Bloque 3 -->
            <div class="module-card">
                <div class="module-header">
                    <div class="module-number">3</div>
                    <div>
                        <div class="module-title">Fluidos y Cat√°lisis</div>
                        <div class="date-badges">
                            <span class="status-badge available">20 Abr - 15 May</span>
                            <span class="status-badge exam-badge">Final: 20 May</span>
                        </div>
                    </div>
                </div>
                <ul class="module-lessons">
                    <li><a href="fluidos_reynolds.html">Mec√°nica de Fluidos</a></li>
                    <li><a href="enzimas_michaelis.html">Cin√©tica Enzim√°tica</a></li>
                    <li><a href="carbohidratos.html">Bioqu√≠mica de Carbohidratos</a></li>
                </ul>
                <div class="actions-container">
                    <button onclick="showBlockDetails(3)" class="btn btn-primary">Ver Temario Bloque 3</button>
                    <a href="material/presentaciones_bloque3.zip" class="btn btn-outline-accent">Presentaciones (.zip)</a>
                </div>
            </div>
        </div>

        <section class="timeline-section">
            <div class="timeline-header">
                <h2>Cronograma de Avance Program√°tico 2025</h2>
                <p style="color: var(--gray); font-size: 0.9em;">Ruta del 26 de Enero al 31 de Mayo</p>
            </div>
            <div class="timeline-grid">
                <div class="timeline-month">
                    <span class="month-name">Enero - Febrero</span>
                    <div class="week-item"><div class="week-number">1</div><div class="week-content"><span class="week-date">26 Ene-01 Feb</span><strong>Objeto 1</strong>Estructura materia</div></div>
                    <div class="week-item"><div class="week-number">2</div><div class="week-content"><span class="week-date">02-08 Feb</span><strong>Objeto 1</strong>Enlaces/SI</div></div>
                    <div class="week-item"><div class="week-number">3</div><div class="week-content"><span class="week-date">09-15 Feb</span><strong>Objeto 2</strong>Soluciones/Mezclas</div></div>
                    <div class="week-item"><div class="week-number">4</div><div class="week-content"><span class="week-date">16-22 Feb</span><strong>Objeto 3</strong>L√≠pidos</div></div>
                    <div class="week-item exam"><div class="week-number">5</div><div class="week-content"><span class="week-date">23 Feb-01 Mar</span><strong>üö® 25 FEB</strong>1er PARCIAL</div></div>
                </div>
                <div class="timeline-month">
                    <span class="month-name">Marzo - Abril</span>
                    <div class="week-item"><div class="week-number">6</div><div class="week-content"><span class="week-date">02-08 Mar</span><strong>Objeto 4</strong>√Åcidos Nucleicos</div></div>
                    <div class="week-item"><div class="week-number">7</div><div class="week-content"><span class="week-date">09-15 Mar</span><strong>Objeto 4</strong>Estructura ADN/ARN</div></div>
                    <div class="week-item"><div class="week-number">8</div><div class="week-content"><span class="week-date">16-22 Mar</span><strong>Objeto 5</strong>Prote√≠nas</div></div>
                    <div class="week-item"><div class="week-number">9</div><div class="week-content"><span class="week-date">23-29 Mar</span><strong>Objeto 6</strong>Biof√≠sica Gases</div></div>
                    <div class="week-item holiday"><div class="week-number">H</div><div class="week-content"><span class="week-date">30 Mar-05 Abr</span><strong>üå¥ VACACIONES</strong>S. Santa</div></div>
                    <div class="week-item holiday"><div class="week-number">H</div><div class="week-content"><span class="week-date">06-12 Abr</span><strong>üå¥ VACACIONES</strong>S. Pascua</div></div>
                    <div class="week-item exam"><div class="week-number">10</div><div class="week-content"><span class="week-date">13-19 Abr</span><strong>üö® 15 ABR</strong>2do PARCIAL</div></div>
                    <div class="week-item"><div class="week-number">11</div><div class="week-content"><span class="week-date">20-26 Abr</span><strong>Objeto 7</strong>Mec√°nica Fluidos</div></div>
                    <div class="week-item"><div class="week-number">12</div><div class="week-content"><span class="week-date">27 Abr-03 May</span><strong>Objeto 7</strong>Bernoulli/Reynolds</div></div>
                </div>
                <div class="timeline-month">
                    <span class="month-name">Mayo</span>
                    <div class="week-item"><div class="week-number">13</div><div class="week-content"><span class="week-date">04-10 May</span><strong>Objeto 8</strong>Enzimas</div></div>
                    <div class="week-item"><div class="week-number">14</div><div class="week-content"><span class="week-date">11-17 May</span><strong>Objeto 9</strong>Carbohidratos</div></div>
                    <div class="week-item exam"><div class="week-number">15</div><div class="week-content"><span class="week-date">18-24 May</span><strong>üö® 20 MAY</strong>EXAMEN FINAL</div></div>
                    <div class="week-item"><div class="week-number">16</div><div class="week-content"><span class="week-date">25-31 May</span><strong>CIERRE</strong>Entrega actas</div></div>
                </div>
            </div>
        </section>

        <!-- Panel Docente -->
        <section id="teacherPanel" class="teacher-view" style="display: none;">
            <h3>Panel Docente: Firmas Registradas</h3>
            <table class="teacher-table">
                <thead><tr><th>Estudiante</th><th>Fecha y Hora</th></tr></thead>
                <tbody id="signaturesBody"></tbody>
            </table>
        </section>

        <div style="text-align: center; margin-top: 20px;">
            <span onclick="toggleTeacherView()" style="font-size: 0.7em; color: var(--light-gray); cursor: pointer;">Acceso Docente</span>
        </div>

        <footer>
            <p><strong>Programa Anal√≠tico 2025</strong> | Facultad de Medicina y Ciencias Biom√©dicas - UACH</p>
        </footer>
    </div>

    <!-- FIREBASE & LOGIC -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Tus credenciales reales
        const firebaseConfig = {
            apiKey: "AIzaSyBBEQbRKHJF3QowMdtsu-y2QoMxVMe3FRw",
            authDomain: "tsbb-uach.firebaseapp.com",
            projectId: "tsbb-uach",
            storageBucket: "tsbb-uach.firebasestorage.app",
            messagingSenderId: "520501633377",
            appId: "1:520501633377:web:7a1bb2c0d1cea5a046a520"
        };
        const appId = "tsbb-uach-prod";

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        async function init() {
            await signInAnonymously(auth);
            const signed = localStorage.getItem('uach_reg_signed');
            if (!signed) document.getElementById('reglamentoAlert').style.display = 'block';
            else updateBadge(true);
        }
        init();

        window.aceptarReglamento = async () => {
            const name = document.getElementById('studentName').value.trim();
            if (name.length < 5) { document.getElementById('regError').style.display = 'block'; return; }
            const btn = document.getElementById('btnConfirmReg');
            btn.disabled = true; btn.innerText = "Registrando...";

            try {
                // Ruta para firmas seg√∫n reglas
                const colRef = collection(db, 'artifacts', appId, 'public', 'data', 'firmas_reglamento');
                await addDoc(colRef, { nombre: name, fecha: serverTimestamp() });
                localStorage.setItem('uach_reg_signed', 'true');
                closeAllModals();
                updateBadge(true);
            } catch (err) { alert("Error al conectar. Intenta de nuevo."); btn.disabled = false; btn.innerText = "Reintentar"; }
        };

        window.toggleTeacherView = () => {
            const panel = document.getElementById('teacherPanel');
            const isHidden = panel.style.display === 'none';
            panel.style.display = isHidden ? 'block' : 'none';
            if (isHidden) {
                const colRef = collection(db, 'artifacts', appId, 'public', 'data', 'firmas_reglamento');
                onSnapshot(colRef, (snapshot) => {
                    const tbody = document.getElementById('signaturesBody');
                    tbody.innerHTML = '';
                    snapshot.docs.sort((a,b) => b.data().fecha - a.data().fecha).forEach(doc => {
                        const d = doc.data();
                        tbody.innerHTML += `<tr><td>${d.nombre}</td><td>${d.fecha ? new Date(d.fecha.toDate()).toLocaleString() : 'Cargando...'}</td></tr>`;
                    });
                });
            }
        };

        function updateBadge(signed) {
            if(signed) {
                const b = document.getElementById('regStatusBadge');
                b.innerText = 'Reglamento Firmado'; b.style.background = '#d1fae5'; b.style.color = '#065f46';
                document.getElementById('reglamentoAlert').style.display = 'none';
            }
        }
    </script>

    <script>
        // Datos detallados del temario
        const blockData = {
            1: { title: "Bloque 1: Fundamentos Qu√≠micos", topics: [{ name: "Objeto 1. Estructura de la Materia", points: ["Estructura at√≥mica", "Clasificaci√≥n peri√≥dica", "Estados de agregaci√≥n", "Tipos de enlace qu√≠mico", "Unidades del sistema internacional"] }, { name: "Objeto 2. Soluciones y Mezclas", points: ["Propiedades de soluciones acuosas", "Tipos de soluciones", "Unidades de concentraci√≥n", "Propiedades coligativas"] }, { name: "Objeto 3. L√≠pidos (Bioqu√≠mica)", points: ["Funciones y √Åcidos grasos", "Triacilgliceroles y ceras", "Componentes de membrana", "Isoprenoides y Eicosanoides", "Digesti√≥n de l√≠pidos"] }] },
            2: { title: "Bloque 2: Macromol√©culas", topics: [{ name: "Objeto 4. √Åcidos Nucleicos", points: ["Bases nitrogenadas", "Nucle√≥tidos y nucle√≥sidos", "ADN y ARN estructura"] }, { name: "Objeto 5. Prote√≠nas", points: ["Amino√°cidos y p√©ptidos", "Niveles estructurales (1-4)", "Plegamiento molecular", "Enfermedades y digesti√≥n"] }, { name: "Objeto 6. Leyes de los Gases", points: ["Teor√≠a cin√©tica molecular", "Leyes gases ideales", "Desviaci√≥n gases reales", "Respiraci√≥n celular"] }] },
            3: { title: "Bloque 3: Cat√°lisis", topics: [{ name: "Objeto 7. Mec√°nica de Fluidos", points: ["Principio de Bernoulli", "Fluidos newtonianos", "Flujo laminar y turbulento", "N√∫mero de Reynolds"] }, { name: "Objeto 8. Enzimas (Bioqu√≠mica)", points: ["Clasificaci√≥n", "Cin√©tica Michaelis-Menten", "Inhibici√≥n enzim√°tica", "Regulaci√≥n alost√©rica"] }, { name: "Objeto 9. Carbohidratos", points: ["Monosac√°ridos y Disac√°ridos", "Polisac√°ridos", "S√≠ndrome metab√≥lico", "Digesti√≥n carbohidratos"] }] }
        };

        window.openReglamento = () => { document.getElementById('reglamentoModal').style.display = 'flex'; document.body.style.overflow = 'hidden'; }
        window.openSyllabus = () => { document.getElementById('syllabusModal').style.display = 'flex'; document.body.style.overflow = 'hidden'; }
        window.closeAllModals = () => { document.querySelectorAll('.modal-overlay').forEach(m => m.style.display = 'none'); document.body.style.overflow = 'auto'; }
        
        window.showBlockDetails = (n) => {
            const data = blockData[n];
            document.getElementById('blockBadge').innerText = `Contenido Bloque ${n}`;
            document.getElementById('blockTitle').innerText = data.title;
            const container = document.getElementById('topicsContainer');
            container.innerHTML = '';
            data.topics.forEach(t => {
                let html = `<div class="topic-item"><h4>${t.name}</h4><div class="subpoints-grid">`;
                t.points.forEach(p => html += `<div class="subpoint">${p}</div>`);
                container.innerHTML += html + `</div></div>`;
            });
            document.getElementById('downloadBtn').onclick = () => {
                let txt = `CHECKLIST BIOFISICA B${n} - ${data.title}\n\n`;
                data.topics.forEach(t => { txt += `${t.name.toUpperCase()}\n`; t.points.forEach(p => txt += ` [ ] ${p}\n`); txt += `\n`; });
                const blob = new Blob([txt], {type: 'text/plain'});
                const link = document.createElement('a'); link.href = URL.createObjectURL(blob);
                link.download = `Checklist_B${n}.txt`; link.click();
            };
            document.getElementById('blockDetailModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        };

        window.onclick = (e) => { if (e.target.classList.contains('modal-overlay')) closeAllModals(); }
    </script>
</body>
</html>
